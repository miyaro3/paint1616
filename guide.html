<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Pixel Art Overlay - Setup Guide</title>
    <style>
        body { font-family: 'Helvetica Neue', Arial, sans-serif; line-height: 1.6; color: #e0e0e0; background: #121212; margin: 0; padding: 40px 20px; }
        .container { max-width: 900px; margin: 0 auto; background: #1e1e1e; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.5); }
        h1 { color: #9146ff; border-bottom: 2px solid #333; padding-bottom: 10px; text-align: center; margin-bottom: 30px; }
        h2 { color: #00ff7f; margin-top: 40px; border-left: 5px solid #00ff7f; padding-left: 15px; }
        
        .setup-section { background: #252525; padding: 25px; border-radius: 8px; margin: 20px 0; border: 1px solid #333; }
        input[type="text"] { width: 60%; padding: 12px; border-radius: 4px; border: 1px solid #444; background: #111; color: #fff; font-size: 16px; }
        
        .url-box { background: #000; padding: 15px; border-radius: 6px; margin-top: 15px; display: flex; align-items: center; justify-content: space-between; border: 1px solid #444; }
        .url-text { font-family: 'Courier New', monospace; color: #00ff7f; word-break: break-all; font-size: 14px; }
        
        button { padding: 10px 20px; cursor: pointer; border: none; border-radius: 4px; font-weight: bold; transition: 0.3s; }
        .btn-copy { background: #9146ff; color: white; margin-left: 10px; }
        .btn-copy:hover { background: #772ce8; }

        .command-table { width: 100%; border-collapse: collapse; margin-top: 10px; background: #252525; }
        .command-table th, .command-table td { border: 1px solid #444; padding: 12px; text-align: left; }
        .command-table th { background: #333; color: #9146ff; }
        code { background: #000; color: #ff79c6; padding: 2px 6px; border-radius: 4px; font-family: monospace; }

        .obs-list { background: #1a2a3a; padding: 20px; border-radius: 8px; border-left: 5px solid #3498db; }
        .note { color: #ffa500; font-size: 0.9em; margin-top: 5px; }
        .timer-info { color: #aaa; font-size: 0.85em; margin-top: 2px; }
    </style>
</head>
<body>

<div class="container">
    <h1>Pixel Art Overlay Setup Guide</h1>

    <div class="setup-section">
        <h3>1. あなたのTwitchチャンネル名を入力</h3>
        <p>入力すると、専用の「表示用URL」が下に自動生成されます。</p>
        <input type="text" id="channelInput" placeholder="例: your_channel_id" oninput="generateURLs()">
    </div>

    <h2>URLの取得</h2>
    
    <p><strong>【配信用】表示用オーバーレイ URL</strong><br><small>OBSの「ブラウザソース」に追加してください。</small></p>
    <div class="url-box">
        <span class="url-text" id="showURL">https://miyaro3.github.io/paint1616/show.html?channel=</span>
        <button class="btn-copy" onclick="copyText('showURL')">コピー</button>
    </div>

    <p><strong>【リスナー用】描画エディタ URL</strong><br><small>配信詳細やチャットボット（!paint 等）に登録してリスナーに共有してください。</small></p>
    <div class="url-box">
        <span class="url-text" id="editURL">https://miyaro3.github.io/paint1616/paint.html</span>
        <button class="btn-copy" onclick="copyText('editURL')">コピー</button>
    </div>

    <h2>リスナー向けコマンド</h2>
    <p>描いたドット絵は画面をループして流れ続けます。以下のコマンドでアクションを起こせます。</p>
    <table class="command-table">
        <tr><th>コマンド</th><th>内容</th></tr>
        <tr><td><code>!draw [コード]</code></td><td>生成したコードでドット絵を描画します。（透明色は透過します）</td></tr>
        <tr><td><code>!shake</code></td><td>5秒間、絵を左右に揺らします。<div class="timer-info">※5秒後に通常に戻ります</div></td></tr>
        <tr><td><code>!jump</code></td><td>5秒間、絵をぴょんぴょん跳ねさせます。<div class="timer-info">※5秒後に通常に戻ります</div></td></tr>
        <tr><td><code>!dance</code></td><td>5秒間、絵を楽しくダンスさせます。<div class="timer-info">※5秒後に通常に戻ります</div></td></tr>
        <tr><td><code>!sparkle</code></td><td>5秒間、キラキラのエフェクトをまとわせます。<div class="timer-info">※5秒後に通常に戻ります</div></td></tr>
        <tr><td><code>!bomb</code></td><td>5秒間、爆発するように点滅・拡大します。<div class="timer-info">※5秒後に通常に戻ります</div></td></tr>
    </table>

    <h2>管理用コマンド（配信者・モデレーター専用）</h2>
    <table class="command-table">
        <tr><th>コマンド</th><th>内容</th></tr>
        <tr><td><code>!picclear [ユーザー名]</code></td><td>指定したユーザーの絵を画面からすべて消去します。</td></tr>
        <tr><td><code>!picban [ユーザー名]</code></td><td>指定したユーザーの絵を消し、以降の投稿を無視します。</td></tr>
        <tr><td><code>!speed [数値]</code></td><td>流れる速度を変更します（デフォルト: 20）。数値が小さいほど速くなります。</td></tr>
    </table>

    <h2>OBS 推奨設定</h2>
    <div class="obs-list">
        <ul>
            <li><strong>ソースタイプ:</strong> ブラウザソース</li>
            <li><strong>URL:</strong> 上記で生成した「表示用URL」</li>
            <li><strong>幅(Width):</strong> 1920 (配信解像度に合わせてください)</li>
            <li><strong>高さ(Height):</strong> 200 (画面上部に流す場合の目安)</li>
            <li><strong>表示されていない時にソースをシャットダウン:</strong> <strong style="color:#ff4444;">チェックを外す</strong>
                <div class="note">※チェックを入れると、シーン切り替え時にBANリストや設定速度がリセットされます。</div>
            </li>
        </ul>
    </div>
</div>

<script>
    function generateURLs() {
        const channel = document.getElementById('channelInput').value.trim() || '[your_channel_id]';
        document.getElementById('showURL').innerText = `https://miyaro3.github.io/paint1616/show.html?channel=${channel}`;
        // ※実際にご自身のURL構造に合わせて書き換えてください
    }

    function copyText(id) {
        const text = document.getElementById(id).innerText;
        navigator.clipboard.writeText(text).then(() => {
            const btn = event.target;
            const originalText = btn.innerText;
            btn.innerText = "コピー完了";
            btn.style.background = "#00ff7f";
            setTimeout(() => {
                btn.innerText = originalText;
                btn.style.background = "#9146ff";
            }, 1000);
        });
    }
    generateURLs();
</script>

</body>
</html>